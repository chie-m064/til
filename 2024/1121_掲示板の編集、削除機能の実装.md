# 掲示板の編集、削除機能の実装

## 概要
* 今回の課題で行わなければならないことを書き出す。
  * 編集画面への導線
  * 掲示板一覧画面、掲示板詳細画面から掲示板編集画面へ遷移できるようにする。
  * 掲示板の投稿者の場合のみ、編集画面への動線が表示されるようにする。

* 編集画面の表示・掲示板の更新
  * 新規掲示板作成画面と同様のもので、値が入ったものが表示されるようにする。
  * /boards/xxx/edit などのURL直打ちによる編集画面へアクセスした場合にエラー画面が表示されるようにする。（gem 'better_errors 'のエラー画面ではなく、Railsデフォルトのエラー画面を表示する）
  * 更新後は「掲示板を更新しました」というフラッシュメッセージと共に掲示板詳細画面へ遷移されるようにする。
  * 更新に失敗した際は、「掲示板を更新出来ませんでした」というフラッシュメッセージと共に掲示板編集画面が表示されていること。

* 掲示板の削除
  * 掲示板一覧画面、掲示板詳細画面から掲示板を削除できるようにする。
  * 削除のリンク（アイコン）をクリックしたら、「削除しますか」という確認のアラートが画面に表示されるようにする。
  * 削除後は「掲示板を削除しました」というフラッシュメッセージと共に掲示板一覧画面へ遷移されるようにする。

### destroy!メソッド
destroy!メソッドは、削除が成功するとtrueを返しますが、削除が失敗した場合にはActiveRecord::RecordNotDestroyed例外を発生させます。このメソッドは、削除に失敗すると即座に例外を発生させて処理を停止したい場合に有用です。

destroyメソッドを使用する場合、削除が失敗しても例外が発生しないため、何かしらのバグやデータベースの制約によって削除が失敗しても、次の処理に進んでしまいます。そうなるとユーザーは削除できていると思っていたのに、実際のデータは削除されていない状態が生じてしまいます。

destroy!メソッドだと、削除に失敗した時点で例外が発生して処理が止まったり、エラー画面が表示されるので上記のような状態が生じません。また、例外が生じた際にそれをキャッチして開発者に連絡が飛ぶようにするなどの対策を講じることで、開発者も状況に気づく体制を構築することもできます。

### Railsサーバー
```# docker compose up, docker compose exec web bin/dev を実行しているターミナルとは別に新しくターミナルを立ち上げて以下を実行してください。

$ docker ps

$ docker attach xxxxx   （xxxxx にはxxx_basic_rails_basic-webの左側にあるCONTAINER IDを入力）
```
